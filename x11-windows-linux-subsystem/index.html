<!doctype html><html lang=ko-kr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>X11 on Windows Linux Subsystem &#183; InterP Blog</title><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/fonts.css><link rel=icon type=image/png sizes=32x32 href=/images/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/images/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link href rel=alternate type=application/rss+xml title="InterP Blog"></head><body><nav class=nav><div class=nav-container><a href=/><h2 class=nav-title>InterP Blog</h2></a><ul></ul></div></nav><main><div class=post><div class=post-info><time datetime="2017-11-29 08:32:52 +0000 UTC">2017년 11월 29일</time></div><h1 class=post-title>X11 on Windows Linux Subsystem</h1><div class=post-line></div><p>제목은 다음 내용을 포함하고 있다.</p><ul><li>Windows 10 에서 지원하는 Linux Subsystem 기능에 대해 이야기한다. 잘 모르겠다면 <a href=https://msdn.microsoft.com/en-us/commandline/wsl/install-win10>이 글</a>을 읽고 설치에 도전해 보자. 그런데 글 내용을 보면 이거랑 관련 없다. Babun, Mintty, Git on Bash, Putty 전부 포함이다</li><li>SSH에 접속한 서버에서 X11 Forwarding 을 받고 싶은 경우를 이야기한다. 단적으로, 접속한 서버에서 파이어폭스 브라우저를 실행하면 내 윈도우 화면에 브라우저 창이 실행되는 거다. 이걸 따로 이야기하고 싶지 않으니 <a href="https://www.google.co.kr/url?sa=t&rct=j&q=&esrc=s&source=web&cd=1&ved=0ahUKEwj1yoOCrePXAhWCG5QKHeIRCkEQFggkMAA&url=https%3A%2F%2Fsourceforge.net%2Fprojects%2Fxming%2F&usg=AOvVaw2r18vOyEGzisW0WiHH4ksg">Xming</a> 이나 <a href="https://www.google.co.kr/url?sa=t&rct=j&q=&esrc=s&source=web&cd=1&ved=0ahUKEwj-y9aGrePXAhUJoZQKHXKpB2IQFggkMAA&url=https%3A%2F%2Fsourceforge.net%2Fprojects%2Fvcxsrv%2F&usg=AOvVaw2UIxI0S4LFsqeqk9A47MSR">VcXsrv (추천)</a> 을 참고해 설치해보자.</li></ul><p>참고 이 방법은 Client측 PC의 X Server로 접근하는 무식한 방법이므로, 일반 가정 PC에서 서버로 접속했을 때엔 사용할 수 없을 것 같다. 좀 더 알아보고 보충해야겠다.</p><p>보충 ssh_config 에서 X11ForwardTrusted 를 확인하지 않았었다. 이걸 설정하니까 Server에서 DISPLAY를 따로 설정하지 않아도 잘 된다? <code>xauth generate</code> 를 한번 더 해보긴 했는데.. 한번 더 실험이 필요하다.</p><h3 id=windows에서-한-일>Windows에서 한 일</h3><p>말하자면, 클라이언트 PC에서 한 일이다. 참고로 나는 Ubuntu 를 Linux Subsystem 으로 설치했는데, CentOS여도 상관없을 것이다.</p><ol><li>Xming 또는 VcXsrv 를 설치해서 실행시켰다. 트레이 아이콘에 &lsquo;X&rsquo; 라고 떠 있으면 완료. (이걸 X Server 라고 부른다)</li><li>Ubuntu Console을 하나 열어서,<code>/etc/ssh/ssh_config</code> (sshd_config 가 아니다) 파일을 확인했다. 여기에서 ForwardX11 yes, ForwardX11Trusted yes 를 확인했다. (주석 처리되어 있다면 주석을 제거, sudo 권한 필요)</li><li>SSH 접속을 하면, 다음 에러 메시지가 떠서 보기 싫었다. No xauth data; using fake authentication data for X11 forwarding.</li></ol><pre><code>그래서 다음과 같이 처리했다.

&lt;pre class=&quot;brush: bash; title: ; notranslate&quot; title=&quot;&quot;&gt;$ xauth list # ~/.Xauthority 파일이 없었다!
</code></pre><p>$ xauth generate :0 . trusted # ~/.Xauthority 파일을 만들어준다고 한다..</p><ol start=4><li>(Optional) Xming 또는 VcXsrv 의 설치 디렉토리에 가면 <code>X0.hosts</code>라는 파일이 있다. 여기서 Server의 Hostname 또는 IP를 적어줘야 한다.</li></ol><h3 id=server에서-한-일>Server에서 한 일</h3><p>직접 SSH로 접속하고 나서 설정해야 할 것을 적었다.</p><ol><li><code>/etc/ssh/sshd_config</code> 에서 X11UseLocalHost 가 yes 로 되어 있거나, 활성화되어 있지 않아야 한다. 만약 no로 되어 있으면 yes 로 변경해야 한다.</li><li>DISPLAY 값을 아예 Windows (클라이언트 PC) 의 Hostname 또는 IP 주소로 설정해버린다. export DISPLAY=192.168.0.xxx:0</li></ol><pre><code>참고로, 뒤에 :0 또는 :10 같이 여러 예제가 인터넷에 나도는데, Windows 에서 X 아이콘에 마우스를 가져다 대면 'Hostname:X.X' 라고 나올 것이다. X.X 를 저기에 쓰는 것이다. (나는 0.0 이라고 떠서 그냥 0만 적었다.)&lt;/li&gt; 

  * firefox 를 실행해 보자.&lt;/ol&gt; 

끝.
</code></pre></div><div class=pagination><a href=/c-xunit-%EC%8B%A4%EC%8A%B5/ class="left arrow">&#8592;</a>
<a href=/%EC%99%9C%EC%97%90%EC%84%9C-%EC%B0%BE%EB%8A%94-%ED%8A%B9%EB%B3%84%ED%95%9C-%EB%82%98/ class="right arrow">&#8594;</a>
<a href=# class=top>Top</a></div></main><footer><span>&copy; <time datetime="2020-09-06 21:18:24.319080682 +0000 UTC m=+0.227908231">2020</time> InterP. 이 사이트는 <a href=https://gohugo.io>Hugo</a> 로 작성되었으며 <a href=https://github.com/EmielH/tale-hugo/>Tale</a> 테마를 사용합니다!</span></footer></body></html>