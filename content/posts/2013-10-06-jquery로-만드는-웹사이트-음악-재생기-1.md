---
title: jQuery로 만드는 웹사이트 음악 재생기 (1)
author: interp
type: post
date: 2013-10-06T12:24:39+00:00
draft: true
private: true
url: /jquery로-만드는-웹사이트-음악-재생기-1/
categories:
  - 미분류

---
올레뮤직(www.ollehmusic.com) 쓰시는 분 혹시 계세요? 제가 올레뮤직을 쓰는 이유 중 하나는 바로 웹 브라우저에서 그냥 노래를 들을 수 있다는 거였습니다. 멜론은 ActiveX를 설치해야 하는데, 이 녀석은 플래시만 있으면 됩니다. ActiveX를 혐오하는 건 아니지만 (그렇다고 좋아하는 것도 아니고) 리눅스로 업무를 볼 때나 다른 작업을 할 때 아주 유용합니다.&nbsp;<span style="background-color: transparent; font-size: 16px; line-height: 1.5;">이런 걸 저도 만들어보고 싶었습니다.&nbsp;</span>

올레뮤직의 소스를 봤습니다. 으아니? 우리의 멋진(?) 친구 iframe을 씁니다. 메인 페이지가 음악 정보 페이지를 iframe으로 품고 있고 뮤직 바를 하단에 배치하고 있기 때문에, 뮤직 바가 확장되거나 다른 창을 띄우는데 아무런 문제는 없습니다. 프레임 사이트는 아니니까요. HTML 5에서 iframe의 속성을 대폭 삭제했는데도 쓸 수 있군요. sandbox 속성이 보안강화를 위해 추가되었다고 합니다. seamless 속성도 괜찮네요.

<span style="background-color: transparent; font-size: 16px; line-height: 1.5;">어찌 만들어야 하나, jQuery 플러그인으로 누가 짜놨을 거 같았는데 역시나. jPlayer를 발견하고 냅다 다운로드 받았습니다. 남이 만든 걸 쓰는 게 뭐가 대단한 일이냐, 라는 생각이 들었다가 이런 걸&nbsp;써 봐야 조금이라도 아는 게 아닌가 싶어 망설임 없이 시작해보렵니다. 이런저런 이유를 따지고 들면 망설이다가 아무것도 못할 것 같아요.</span>

여기서 설정한 제 목표는 다음과 같습니다.

<ul style="list-style-type: disc;">
  <li>
    jQuery, 정확히는 jQuery와 jPlayer를 이용해서 플레이어를 돌려본다.
  </li>
  <li>
    플레이어의 디자인을 변경한다. (CSS를 작업해야 합니다.)
  </li>
  <li>
    플레이어가 사이트 방문 내내 끊김없이 재생되어야 한다.
  </li>
</ul>

<div>
  세 번째 아이템을 어떻게 해결해야 하는지 먼저 찾아본 다음에, 작업을 진행하겠습니다.


<div>


# 웹사이트 내부에서 끊김없이 음악을 재생하자!

이전 페이지에서 다른 페이지로 이동하면, 브라우저 화면은 다시 생성됩니다. 그래서, 이전과 이후 페이지에 똑같이 음악 재생 코드를 집어넣는다 해도, 이후 페이지에서 음악은 처음부터 다시 재생될 겁니다. 하나마나, 안하나 마나입니다. 그러면 '재생 코드가 있는 부분만 빼고 나머지만 갱신할 수 없을까?' 라는 질문이 팝업될 건데, 반대로 생각하면 해결할 수 있습니다. '페이지를 이동시키지 말고, 내부 정보만 갱신시키면 된다' 가 정답이 될 수 있습니다. 왜 이게 유일무이한 답이 아닌지, 알고 계시리라 믿습니다. 프레임을 사용하는 것도 또 다른 해결책이 될 수 있다는 것을요. 그리고 실제로, 프레임을 쓰는게 가장 간단한 방법입니다. 세련되지 않아서 문제지.

여기서 좀 깊게 파고들어가, 왜 요즘에는 프레임 웹사이트가 잘 보이질 않고 그 자리를 Ajax가 차지했을까 궁금할 수도 있습니다. 제가 자주 자문하러 가는 Stackoverflow에서 관련 답을 찾을 수 있었는데요,

<blockquote class="tx-quote-tistory">
  <p style="text-align: justify;">
    요즘 대세인&nbsp;Ajax는 (프레임과)&nbsp;엄청난 등가교환을 하고 있는 셈입니다. 인터넷에서 존재하는&nbsp;'document' 모델로 구성된 것을 해체하는 것으로 웹 사이트가 더 '어플리케이션' 다워지는 거죠. 웹 사이트가 Ajax를 잘 활용하고 있다면, 어플리케이션에 어떤 가치를 심는 데 더 절묘한 방법으로 'document' 모델을 해체하는 것이라 볼 수 있습니다. 가령, '추천' 버튼은 하이퍼링크는 아니지만, 쿨한 애니메이션과 함께 질문자의 상태를 비동기적으로 업데이트하는 것이죠.
  </p>
  
  <p style="text-align: justify;">
    프레임은 그저 모델 내부에서 문서를 나누는 것에 불과합니다. 어쩌면 OS나 윈도우 관리자가 프레임을 나타내기 위해 다른 이상한 것들을 집어넣을 소지도 있고요. 전체적으로 좀 우스꽝스러워 보입니다. Ajax를 사용하는 것이 (조금 더 어렵기는 하지만) 화면을 더 미려하게 꾸밀 수 있기 때문이라 생각합니다.
  </p>
</blockquote>

다른 의견을 종합해서 써보자면, 프레임은 제한적인 기능과 제한적인 표현력이 단점으로 꼽히는데 이를 Ajax가 채워주고 있다고 합니다. 동의하십니까? 이젠 Ajax를 가지고 대세론이&nbsp;