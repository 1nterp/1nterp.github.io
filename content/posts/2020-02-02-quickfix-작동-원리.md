---
title: quickfix 작동 원리
author: interp
type: post
date: 2020-02-02T12:59:09+00:00
draft: true
private: true
url: /quickfix-작동-원리/
categories:
  - 미분류

---
make 할 때마다 나오는 Entering / Leaving Directory 메시지를 보지 않기 위해, subdir rule 안에 있는 &#8216;make -C $(2)&#8217; 뒤에 &#8216;&#8211;no-print-directory&#8217; 옵션을 준 뒤에 간단히 subdir name만 출력하도록 했다. 깔끔해서 보기 좋았는데, 정작 vim quickfix 에서 subdir 내부에서 일어난 warning/error를 감지하지 못했다. quickfix로 탐색하는 경우, 그냥 make 명령을 한 현재 위치의 파일에서 일어난 warning/error 로 인식하고는, 새 파일을 그냥 열어버린다.

처음에는 그냥 상대 경로라서 그랬나? 싶었는데 출력되는 warning/error의 파일명은 수정 전에도 동일하게 절대 경로도 아니고 파일 이름만 나왔었다. 그러니까 이건 문제가 안 되고.. 혹시나 하는 마음에 매뉴얼을 읽어봤는데 역시나 해답이 있었다. [여기][1]에서 Changing Directory 부분을 보면 내부적으로 Entering / Leaving Directory 메시지를 통해 Directory Stack을 쌓는 걸 확인할 수 있다. T_T 결국 해당 메시지를 다시 켰더니 잘 된다.

출력을 바꾸지 않고 하는 방법은, vim에서 errorformat 을 따로 설정하는 방법이 있다.

    set errorformat

 [1]: http://vimdoc.sourceforge.net/htmldoc/quickfix.html