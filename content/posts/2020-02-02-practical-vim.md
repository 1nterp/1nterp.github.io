---
title: Practical Vim
author: interp
type: post
date: 2020-02-01T23:36:23+00:00
draft: true
private: true
url: /practical-vim/
categories:
  - 미분류

---
[여기][1]서부터 시작한다.

#### 마이크로매크로

잘 모르는 사실이지만, . 은 &#8216;편집 모드에서의 모든 명령&#8217; 을 기억하고 있는 키이다. 단일 편집 작업이 끝났다면 가급적 일반 모드로 돌아오는 것이 좋다는 것이다.

  * 여담으로, 일반 모드에서 `I`는 `^i`를, `A`는 `$a` 를 나타낸다. 즉, 맨 앞에 가서 입력/맨 뒤에 가서 입력을 나타낸다. 키를 두번 누를 필요가 없으니 유용하게 쓸 수 있다.
  * 그리고 `I`나 `A` 역시 편집모드로 진입하는 키이므로, `.`가 기억할 수 있다.

왜 이런 &#8216;한 번에 움직여서 편집 모드로 들어가는&#8217; 명령을 잘 알아야 하는가? 그냥 `^i`를 쓰면 되는데? `.` 를 잘 쓰고 싶을 때 그러라는 것이다.

예를 들어, `cw`는 &#8216;커서의 word를 지우고 편집 모드로\` 라는 의미다. 이건 그냥 `dwi`를 입력해도 똑같다. 단지 `.`가 인식하는 범위가 다를 뿐이다. `.`의 입장에서 `cw`는 &#8216;아, 커서의 word를 지우는 것부터 기억해야 하는구나&#8217; 인 것이지만 `dwi`는 &#8216;아, 입력부터 기억하면 되겠구나&#8217; 라고 생각하기 때문이다.

이렇게 일반 모드에서 작업을 하면서 편집모드로 진입하는 키가 몇개 있다.

<table>
  <tr>
    <td>
      cw
    </td>
    
    <td>
      dwi
    </td>
    
    <td>
      커서의 단어를 삭제하고 입력 모드로 전환
    </td>
  </tr>
  
  <tr>
    <td>
      cc
    </td>
    
    <td>
      ddi
    </td>
    
    <td>
      커서가 위치한 줄 전체를 삭제하고 입력 모드로 전환<br /> (※ ddi는 줄 끝 LF 까지 삭제하지만, cc는 줄 끝 LF가 삭제되지 않아<br /> 사실은 다른 명령이다)
    </td>
  </tr>
  
  <tr>
    <td>
      C
    </td>
    
    <td>
      c$
    </td>
    
    <td>
      커서에서 줄 끝까지의 내용을 삭제하고 입력 모드로 전환
    </td>
  </tr>
  
  <tr>
    <td>
      A
    </td>
    
    <td>
      $a
    </td>
    
    <td>
      커서를 줄 끝으로 이동시킨 뒤, 그 다음 칸부터 입력 모드로 전환
    </td>
  </tr>
  
  <tr>
    <td>
      I
    </td>
    
    <td>
      ^i
    </td>
    
    <td>
      커서를 줄 앞으로 이동시킨 뒤, 그 칸부터 입력 모드로 전환
    </td>
  </tr>
  
  <tr>
    <td>
      s
    </td>
    
    <td>
      cl
    </td>
    
    <td>
      커서의 문자를 지우고, 그 칸부터 입력 모드로 전환
    </td>
  </tr>
  
  <tr>
    <td>
      S
    </td>
    
    <td>
      ^C = ^c$<br /> (= cc)
    </td>
    
    <td>
      커서를 줄 앞으로 이동시킨 뒤, 커서에서 줄 끝까지의 내용을 삭제하고 입력 모드로 전환<br /> -> 그냥 cc와 똑같아 보인다.
    </td>
  </tr>
</table>

#### 찾기 반복

일반적으로 우리는 `/`나 `?`를 통해 문서 전체에서 패턴을 찾으며, 이를 반복하는 키는 잘 알고 있다. (`n`이나 `N`) 하지만 해당하는 줄의 특정 글자로 커서를 이동하는 기능도 있으며, 물론 이 또한 반복 키가 존재한다.

  * 일반 모드에서 `f`입력 후 &#8216;글자&#8217;를 입력하면, 해당 글자가 처음으로 나타난 곳으로 커서가 이동한다. 그런데 이 기능은 해당 줄에서만 이루어진다. (다음 줄로 안 넘어감) 
      * `f` 말고도 `t` 도 똑같은 효과다.
      * 반대로 대문자로 시작하면 (`F`나 `T`) 앞 방향으로 찾는다.
  * `f` 나 `t` 로 찾는 중이라면, 이 명령의 반복을 `;`로 할 수 있다. 반대 방향으로 계속 찾고자 한다면 `,`를 누르면 된다.

#### 치환 반복

`s/<pattern>/<string>` 같은 형태로 치환했다면, 이를 반복시키는 키도 존재한다. 바로 `&`이다.

 [1]: https://nolboo.kim/practical-vim/